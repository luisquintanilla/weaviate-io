import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FilteredTextBlock from '@site/src/components/Documentation/FilteredTextBlock';
import PyCode from '!!raw-loader!/_includes/code/install/embedded.py';

<Tabs groupId="languages">
<TabItem value="py" label="Python (v4)">
<FilteredTextBlock
  text={PyCode}
  startMarker="# START SimpleInstantiationEmbedded"
  endMarker="# END SimpleInstantiationEmbedded"
  language="py"
/>

Close your client connections before exiting your script or application. Use `client.close()` or use a context manager to close the client connections.
</TabItem>
<TabItem value="py3" label="Python (V3)">

  ```python
  import weaviate
  from weaviate.embedded import EmbeddedOptions

  client = weaviate.Client(
    embedded_options=EmbeddedOptions()
  )

  data_obj = {
    "name": "Chardonnay",
    "description": "Goes with fish"
  }

  client.data_object.create(data_obj, "Wine")

  # Stop the server.  The server restarts if you call the client again later.
  # client._connection.embedded_db.stop()
  ```

  </TabItem>
  <TabItem value="js" label="JavaScript / TypeScript">

  ```ts
  import weaviate, { EmbeddedOptions } from 'weaviate-ts-embedded';

  const client = weaviate.client(new EmbeddedOptions());

  await client.embedded.start();

  const response = await client.data
    .creator()
    .withClassName('Wine')
    .withProperties({
      name: 'Chardonnay',
      description: 'Goes with fish',
    })
    .do();

  console.log(JSON.stringify(response, null, 2));
  
  // Stop the server. The server restarts if you call the client again later.
  //client.embedded.stop();
  ```

  </TabItem>
</Tabs>
